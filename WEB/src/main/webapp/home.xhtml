<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:p="http://primefaces.org/ui"
             xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="/templates/template.xhtml">

        <ui:define name="bodycontent">
            <h:form id="frm">

                <div class="titel">
                    WELKOM BOOGSCHUTTER!
                </div>

                <br/>
                <div class="ui-grid-responsive formGrid">
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-12">
                            <p>
                                Dit is de gloednieuwe website voor het beheer van al jullie open kampioenschappen liggende wip!
                                <br/>
                                Voor vragen en opmerkingen kan u altijd terecht bij de webmaster, webmaster@mail.be
                            </p>
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-8">
                            <div class="ui-grid-responsive formGrid">
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-12 subTitelCenter">
                                        Kalenderoverzicht
                                    </div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-12 ">
                                        <p:schedule id="schedule" value="#{scheduleBean.lazyModel}"
                                                    widgetVar="myschedule"
                                                    locale="nl"
                                                    draggable="false"
                                                    timeFormat=""
                                                    leftHeaderTemplate="prev, next"
                                                    rightHeaderTemplate="today">
                                            <p:ajax event="eventSelect" listener="#{scheduleBean.onEventSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
                                        </p:schedule>

                                        <p:dialog widgetVar="eventDialog" header="Detail" showEffect="clip" hideEffect="clip">
                                            <h:panelGrid id="eventDetails">
                                                <p:outputLabel id="title" value="#{scheduleBean.selectedEvenement.naam}" />
                                                <p:outputLabel id="club" value="organisator: #{scheduleBean.selectedEvenement.club.naam}" />
                                                <p:outputLabel id="locatie" value="#{scheduleBean.selectedEvenement.locatie}" />
                                                <p:outputLabel rendered="#{!scheduleBean.isKampioenschap()}" id="omschrijving" value="#{scheduleBean.selectedEvenement.omschrijving}" />
                                                <h:link outcome="bezoeker_kampioenschapspagina"
                                                        value="Ga naar"
                                                        rendered="#{scheduleBean.isKampioenschap()}">
                                                    <f:param name="id" value="#{scheduleBean.selectedEvenement.id}"/>
                                                </h:link>
                                            </h:panelGrid>
                                        </p:dialog>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="ui-grid-col-1">
                            <br/>
                        </div>

                        <div class="ui-grid-col-3">
                            <div class="ui-grid-responsive formGrid">
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-12 subTitelCenter">
                                        Nieuwtjes
                                    </div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-12 ">
                                        <p:carousel value="#{newsFeedBean.getLaatsteNieuwtjes()}"
                                                    headerText="Laatste nieuwtjes"
                                                    var="news"
                                                    vertical="true"
                                                    circular="true"
                                                    autoPlayInterval="5000"
                                                    rows="1">
                                            <p:tab>
                                                <h:panelGrid>
                                                    <p:graphicImage value="#{news.account.getClub().logoFullPath}"
                                                            height="40px"/>
                                                    <h:outputText value="#{news.datum}"/>
                                                    <h:outputText value="#{news.nieuws}"/>
                                                </h:panelGrid>
                                            </p:tab>
                                        </p:carousel>

                                        <p:outputLabel rendered="#{gebruikerController.heeftRol('club') || gebruikerController.heeftRol('systeem')}" value="Nieuws: "/> <br/>
                                        <p:inputTextarea rendered="#{gebruikerController.heeftRol('club') || gebruikerController.heeftRol('systeem')}" value="#{newsFeedBean.nieuwtje}"/><br/>
                                        <p:outputLabel rendered="#{gebruikerController.heeftRol('club') || gebruikerController.heeftRol('systeem')}" value="Te tonen tot: "/><br/>
                                        <p:calendar id="tonenTot" rendered="#{gebruikerController.heeftRol('club') || gebruikerController.heeftRol('systeem')}"
                                                    validatorMessage="Verplicht veld" mode="popup"
                                                    pattern="dd/MM/yyyy" value="#{newsFeedBean.tonenTot}" >
                                            <f:converter converterId="DatumConverter"/>
                                        </p:calendar><br/>
                                        <p:message id="msg_tonenTot" for ="tonenTot"/>
                                        <p:commandButton value="Voeg toe aan feed"
                                                         rendered="#{gebruikerController.heeftRol('club') || gebruikerController.heeftRol('systeem')}"
                                                         actionListener="#{newsFeedBean.maakNieuwtjeAan}"
                                                         update=":frm">
                                        </p:commandButton>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</ui:fragment>




