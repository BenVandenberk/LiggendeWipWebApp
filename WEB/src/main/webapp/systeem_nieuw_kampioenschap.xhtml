<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:p="http://primefaces.org/ui"
             xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="/templates/template.xhtml">

        <ui:define name="bodycontent">
            <h:form id="frm">

                <div class="bodyWrapper">

                    <div class="titel">
                        Kalenderbeheer
                    </div>
                <div class="ui-grid ui-grid-responsive formGrid">
                    <div class="ui-grid-row formRow">
                        <div class="ui-grid-col-12">
                            <p:tabView id="tbView">
                                <p:tab title="Lijst" id="tb">

                                    <h:panelGroup id="pnl_alle_evenementen">
                                        <ui:repeat value="#{evenementController.alleEvenementen}" var="evenement">

                                                <div class="ui-grid-responsive formGrid evenement">

                                                            <div class="ui-grid-row">
                                                                <p:outputLabel value="#{evenement.naam}" styleClass="centerPlus pointer"/>
                                                            </div>

                                                            <div class="ui-grid-row">
                                                                <p:outputLabel value="georganiseerd door club: #{evenement.club.naam}" styleClass="centerPlus pointer"/>
                                                            </div>

                                                            <div class="ui-grid-row">
                                                                <p:outputLabel styleClass="centerPlus pointer" value="#{evenement.beginDatum.datumInEuropeesFormaat} tot #{evenement.eindDatum.datumInEuropeesFormaat}">
                                                                </p:outputLabel>
                                                            </div>

                                                            <div class="ui-grid-row">
                                                                <p:outputLabel rendered="#{evenementController.isEvenement(evenement)}" styleClass="centerPlus pointer" value="DIT IS GEEN KAMPIOENSCHAP"/>
                                                            </div>

                                                            <div style="text-align: right">
                                                                <p:commandLink update=":frm:tbView:pnl_alle_evenementen" action="#{evenementController.verwijderEvenement}">
                                                                    <f:setPropertyActionListener value="#{evenement}" target="#{evenementController.selectedEvenement}"/>
                                                                    <i class="fa fa-minus-square-o plus"/>
                                                                </p:commandLink>
                                                            </div>

                                                </div>


                                        </ui:repeat>
                                    </h:panelGroup>

                                </p:tab>
                                <p:tab title="Kalender">
                                    <div class="ui-grid-row formRow">
                                        <div class="ui-grid-col-5">

                                            <p:calendar mode="inline"/>

                                        </div>
                                        <div class="ui-grid-col-7">
                                            <p:dataList value="te binden op kampioenschapslijst" var="kampioenschap" type="definition">
                                            <div class="ui-grid-row formRow" style="font-size: medium">
                                                <div class="ui-grid-col-5">
                                                    <p:outputLabel value="Naam (te binden)"/>
                                                </div>
                                                <div class="ui-grid-col-7">
                                                    <p:outputLabel value="van start- tot einddatum (te binden)"/>
                                                </div>

                                            </div>

                                            <div class="ui-grid-row formRow" style="font-size: medium">
                                                <div class="ui-grid-col-5">
                                                    <p:outputLabel value="Club: Te binden"/>
                                                </div>
                                                <div class="ui-grid-col-3"/>
                                                <div class="ui-grid-col-4">
                                                    <p:commandButton value="Evenement verwijderen"/>
                                                </div>
                                            </div>

                                        </p:dataList>
                                        </div>
                                    </div>
                                </p:tab>
                            </p:tabView>
                        </div>
                    </div>

                    <div class="ui-grid-row formRow">
                        <div class="ui-grid-col-12">
                            <p:fieldset legend="Kampioenschap aanmaken" id="fsKamp">
                            <h:form id="kampFrm">
                                <div class="ui-grid-row formRow">
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Naam:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:inputText validatorMessage="Naam verplicht" value="#{evenementController.naamKampioenschap}" id="naam">
                                            <f:validateRequired />
                                            <f:ajax render="msg_naam naam" />
                                        </p:inputText>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Startdatum:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:calendar validatorMessage="Startdatum verplicht" mode="popup" pattern="dd/MM/yyyy" value="#{evenementController.startDatumKampioenschap}" id="startdatum" >
                                            <f:converter converterId="DatumConverter"/>
                                            <f:validateRequired />
                                            <f:ajax render="msg_startdatum startdatum" />
                                        </p:calendar>
                                    </div>
                                </div>
                                <div class="ui-grid-row formRow">

                                    <div class="ui-grid-col-3">

                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:message id="msg_naam" for="naam"/>
                                    </div>
                                    <div class="ui-grid-col-3">

                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:message id="msg_startdatum" for="startdatum"/>
                                    </div>

                                </div>

                                <div class="ui-grid-row formRow">
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Club:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:selectOneMenu validatorMessage="Selecteer een club!" value="#{evenementController.clubKampioenschap}" id="club">
                                            <f:selectItem itemLabel="Selecteer Club" itemValue="" noSelectionOption="false" />
                                            <f:selectItems value="#{evenementController.alleClubs}" />
                                            <f:validateRequired />
                                            <f:ajax render="msg_club club" />
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Einddatum:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:calendar validatorMessage="Einddatum verplicht en later dan startdatum!" mode="popup" pattern="dd/MM/yyyy" value="#{evenementController.eindDatumKampioenschap}" id="einddatum">
                                            <f:converter converterId="DatumConverter"/>
                                            <f:validateRequired />
                                            <f:validator validatorId="datumValidator"/>
                                            <f:ajax render="msg_einddatum einddatum" />
                                        </p:calendar>
                                    </div>
                                </div>

                                <div class="ui-grid-row formRow">

                                    <div class="ui-grid-col-3">

                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:message id="msg_club" for="club"/>
                                    </div>
                                    <div class="ui-grid-col-3">

                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:message id="msg_einddatum" for="einddatum"/>
                                    </div>

                                </div>
                                </h:form>
                                <div class="pageButton">
                                    <p:commandButton value="Kampioenschap toevoegen"
                                                     update=":frm:tbView:pnl_alle_evenementen :frm:fsKamp"
                                                     actionListener="#{evenementController.maakNieuwKampioenschapAan}">
                                    </p:commandButton>
                                </div>
                            </p:fieldset>
                        </div>
                    </div>



                    <div class="ui-grid-row formRow">
                        <div class="ui-grid-col-12">
                            <p:fieldset legend="Ander evenement aanmaken">
                                <div class="ui-grid-row formRow">
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Naam:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:inputText value="#{evenementController.naamEvenement}"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Startdatum:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:calendar mode="popup" pattern="dd/MM/yyyy" value="#{evenementController.startDatumEvenement}" >
                                            <f:converter converterId="DatumConverter"/>
                                        </p:calendar>
                                    </div>
                                </div>

                                <div class="ui-grid-row formRow">
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Club:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:selectOneMenu value="#{evenementController.clubEvenement}">
                                            <f:selectItem itemLabel="Selecteer Club" itemValue="" noSelectionOption="false" />
                                            <f:selectItems value="#{evenementController.alleClubs}" />
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Einddatum:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:calendar mode="popup" pattern="dd/MM/yyyy" value="#{evenementController.eindDatumEvenement}" >
                                            <f:converter converterId="DatumConverter"/>
                                        </p:calendar>
                                    </div>
                                </div>
                                <div class="ui-grid-row formRow">
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Locatie: "/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:inputText value="#{evenementController.locatieEvenement}"/>
                                    </div>
                                </div>
                                <div class="ui-grid-row formRow">
                                    <div class="ui-grid-col-3">
                                        <p:outputLabel value="Omschrijving:"/>
                                    </div>
                                    <div class="ui-grid-col-3">
                                        <p:inputTextarea style="width: 300%" value="#{evenementController.omschrijvingEvenement}"/>
                                    </div>

                                </div>

                                <div class="pageButton">
                                    <p:commandButton value="Evenement toevoegen" ajax="false" action="#{evenementController.maakNieuwEvenementAan}"/>
                                </div>
                            </p:fieldset>
                        </div>
                    </div>


                </div>



                </div>

            </h:form>
        </ui:define>

    </ui:composition>

</ui:fragment>